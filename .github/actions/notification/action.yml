#
#  Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
#  SPDX-License-Identifier: Apache-2.0
#

name: Slack Notification
description: Action to send slack notification on failure
inputs:
  slack_webhook_url:
    description: "Slack WebHook URL"
    required: true

runs:
  using: "composite"
  steps:
    - name: Slack Notification
      shell: bash
      run: |
          curl -X POST -H 'Content-type: application/json' --data '{"text":" -> [ STATUS: ${{ job.status }} WORKFLOW_NAME: ${{ github.workflow }}  JOB: ${{ github.job }}  JOB_URL: ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }} ] "}' ${{ inputs.slack_webhook_url }}